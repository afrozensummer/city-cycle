<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>City Cycle</title>
    <script src="libs/jquery.min.js" charset="utf-8"></script>
    <script src="libs/d3/d3.min.js" charset="utf-8"></script>
    <script src="libs/jquery.stellar.min.js" charset="utf-8"></script>
    <script src="libs/jquery.easing.1.3.js" charset="utf-8"></script>
    <script type="text/javascript" src="libs/waypoints.min.js"></script>
    <link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="css/home.css">
    <link href='http://fonts.googleapis.com/css?family=Raleway|Poiret+One' rel='stylesheet' type='text/css'>
</head>
<body>
    
    
    <div id = "intro">
        <div class = "intro-text">
            <div id = "preintro">CS171 PROJECT:</div>
            <div id = "byline">Mirhee Kim, Emily Lovett, Michelle Danoff</div>
            
            <div id = "introtitle">Citi Cycle</div>
            
        </div>
        <img id = "cutebike" src="/img/cutebike.png" alt="">
        <div class="dark-cover"></div>
        <div id = "launch">
            <button><a href="vis.html">Launch Visualization</a></button>
            <button><div id = "story"><a href="#slide1">Read Our Story</a></div></button>
        </div>
        
    </div>      

    <ul class="navigation">
        <li data-slide="1">Slide 1</li>
        <li data-slide="2">Slide 2</li>
        <li data-slide="3">Slide 3</li>
        <li data-slide="4">Slide 4</li>
    </ul>
    <div class="slide" id="slide1" data-slide="1" data-stellar-background-ratio="0.5">    

        <div class = "header" data-slide>
            Why CitiBike?
        </div>      
        <div class = "text">
            As passionate environmentalists and avid bikers, the three of us, Mirhee Kim, Emily Lovett, and Michelle Danoff, set out to make a visualization to celebrate the success of the CitiBike bike share in New York City! Bike share programs have exploded recently in the cities that each of the cities that we grew up in, and the three of us have been lucky to witness the cultural impacts of increased biking including a rise in environmental consciousness, biker safety, and biker communities. We hope our project can be both enjoyed by bike users and provide helpful insights to CitiBike and other bike share companies. 

        </br/>
        </br/>

            To launch our visualization, simply scroll up to the top of the page and press the 'Launch Visualization' button. Specific information about waht information is displayed in the visualization can be found at the top of that page. 

        </br/>
        </br/>    

            Our visualization displays the movement of CitiBike users in New York city on 4 days selected from the 2014 calendar year. We selected each of these days to be representative of either typical days or unique days during the year. For exmaple, December 1 is similar to many other winter days and accurately reflects bike usage in the New York winter. When envisioning what bike usage typically looks like as New Yorkers commute to work and go about their everyday lives in the winter, December 1 is representative. In contrast, July 4 has one of the most unusual bike usage patterns of any day in the calendar year; there are no rush hour patterns since most New Yorkers are not going to work on the holiday. However, we can see a movement of bikes toward the waterfront at night before the fireworks. [Insert information about other days]
         </br/>
         </br/>    

            While CitiBike and other similar bike share programs have exploded in popularity in the past few years, many of them  also face logistical nightmares when it comes to running their companies on a day to day basis. Many bike share companies, including CitiBike, physically transport bikes between stations since many users use bikes for one way trips. Unfortunately, bikes often get backed up at certain popular stations, leaving few bikes for users at more remote stations and preventing customers from using bikes unless CitiBike physically moves those bikes back to their original locations. CitiBike has historically struggled to figure out patterns of where bikers are moving and why in order to best plan for this movement. We hope our visualization can be used by CitiBike to better understand patterns of biking in the city, include what times of day and year have highest bike use and where bikes are traveling at these moments. 

         </br/>
         </br/>     

            We plan to share this visualization with CitiBike, and are happy to visualize other days in the calendar year that they are interested in learning more about. Please see the 'What we Found' section below for more specific information about exactly what patterns we saw.

            
        </div>              
        <a class="button" data-slide="2" title=""></a>   
        <span class="slideno">Slide 1</span>
    </div><!--End Slide 1-->  
    
    <div class="slide" id="slide2" data-slide="2" data-stellar-background-ratio="0.5">                        
        <a class="button" data-slide="2" title=""></a>
        <div class = "header" data-slide>
           What we Found
        </div>   
        <div class = "text" data-slide = "3" data-stellar-background-ratio="0.8">
            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dignissimos qui itaque eius optio nihil et odit aliquid, nostrum excepturi enim cupiditate, labore reprehenderit non ex accusamus possimus eligendi earum! Porro.Lorem ipsum dolor sit amet, consectetur adipisicing elit. Officiis, praesentium sint non, alias quisquam corporis quas dignissimos labore ducimus nesciunt rem atque voluptas quod et adipisci sed facere quo molestias.
        </div> 
    </div>

<!--     <div class = "container">
        
    </div> -->

    <script>
        $(document).ready(function(){
    $('#intro').css('min-height', $(window).height());
    $('#intro .dark-cover').height($('#intro').height());
    $('#intro .intro-text').css('top', $('#intro').height()/3.5 - $('#intro .intro-text').height()/2);
    $('#intro .dark-cover').delay(1250).animate({'opacity': 0.8}, 2000);
    $('#intro .intro-text').animate({'opacity': 1}, 3000)
    $('#intro #launch').delay(1500).animate({'left': $('#intro').width()/2 - 250}, 7000)
    $('#intro #cutebike').delay(1000).animate({'left': $('#intro').width() - 150}, 10000).animate({'opacity': 0}, 0)
    // $('#intro #launch').css('top', $('#intro').height()/3.5 + 1.5*$('#intro .intro-text').height())
    // $('.arrow').fadeIn(4000).click(function() {
    //     $('html, body').animate({
    //         scrollTop: $("#intro").height()
    //     }, 1000);
    // });

    jQuery(document).ready(function ($) {
 
 
        //initialise Stellar.js
        $(window).stellar();
     
        //Cache some variables
        var links = $('.navigation').find('li');
        slide = $('.slide');
        button = $('.button');
        mywindow = $(window);
        htmlbody = $('html,body');
     
     
        //Setup waypoints plugin
        slide.waypoint(function (event, direction) {
     
            //cache the variable of the data-slide attribute associated with each slide
            dataslide = $(this).attr('data-slide');
     
            //If the user scrolls up change the navigation link that has the same data-slide attribute as the slide to active and 
            //remove the active class from the previous navigation link 
            if (direction === 'down') {
                $('.navigation li[data-slide="' + dataslide + '"]').addClass('active').prev().removeClass('active');
            }
            // else If the user scrolls down change the navigation link that has the same data-slide attribute as the slide to active and 
            //remove the active class from the next navigation link 
            else {
                $('.navigation li[data-slide="' + dataslide + '"]').addClass('active').next().removeClass('active');
            }
     
        });
     
        //waypoints doesnt detect the first slide when user scrolls back up to the top so we add this little bit of code, that removes the class 
        //from navigation link slide 2 and adds it to navigation link slide 1. 
        mywindow.scroll(function () {
            if (mywindow.scrollTop() == 0) {
                $('.navigation li[data-slide="1"]').addClass('active');
                $('.navigation li[data-slide="2"]').removeClass('active');
            }
        });
     
        //Create a function that will be passed a slide number and then will scroll to that slide using jquerys animate. The Jquery
        //easing plugin is also used, so we passed in the easing method of 'easeInOutQuint' which is available throught the plugin.
        function goToByScroll(dataslide) {
            htmlbody.animate({
                scrollTop: $('.slide[data-slide="' + dataslide + '"]').offset().top
            }, 2000, 'easeInOutQuint');
        }
     
     
     
        //When the user clicks on the navigation links, get the data-slide attribute value of the link and pass that variable to the goToByScroll function
        links.click(function (e) {
            e.preventDefault();
            dataslide = $(this).attr('data-slide');
            goToByScroll(dataslide);
        });
     
        //When the user clicks on the button, get the get the data-slide attribute value of the button and pass that variable to the goToByScroll function
        button.click(function (e) {
            e.preventDefault();
            dataslide = $(this).attr('data-slide');
            goToByScroll(dataslide);
     
        });
     
     
    });

});
    </script>
    
</body>
</html>
